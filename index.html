<!-- Latest CDN production Javascript and CSS: 2.14.0 -->
<script
  src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.14.0/js/okta-sign-in.min.js"
  type="text/javascript"></script>
<link
  href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.14.0/css/okta-sign-in.min.css"
  type="text/css"
  rel="stylesheet"/>

<!-- Theme file: Customize or replace this file if you want to override our default styles -->
<link
  href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.14.0/css/okta-theme.css"
  type="text/css"
  rel="stylesheet"/>
<script>
signInWidgetConfig = {
  // Enable or disable widget functionality with the following options. Some of these features require additional configuration in your Okta admin settings. Detailed information can be found here: https://github.com/okta/okta-signin-widget#okta-sign-in-widget
  // Look and feel changes:
  logo: '//logo.clearbit.com/okta.com', // Try changing "okta.com" to other domains, like: "workday.com", "splunk.com", or "delmonte.com"
  language: 'en',                       // Try: [fr, de, es, ja, zh-CN] Full list: https://github.com/okta/okta-signin-widget#language-and-text
  i18n: {
    //Overrides default text when using English. Override other languages by adding additional sections.
    'en': {
      'primaryauth.title': 'Sign In',   // Changes the sign in text
      'primaryauth.submit': 'Sign In',  // Changes the sign in button
      // More e.g. [primaryauth.username.placeholder,  primaryauth.password.placeholder, needhelp, etc.].
      // Full list here: https://github.com/okta/okta-signin-widget/blob/master/packages/@okta/i18n/dist/properties/login.properties
    }
  },
  // Changes to widget functionality
  features: {
    registration: true,                 // Enable self-service registration flow
    rememberMe: true,                   // Setting to false will remove the checkbox to save username
    //multiOptionalFactorEnroll: true,  // Allow users to enroll in multiple optional factors before finishing the authentication flow.
    //selfServiceUnlock: true,          // Will enable unlock in addition to forgotten password
    //smsRecovery: true,                // Enable SMS-based account recovery
    //callRecovery: true,               // Enable voice call-based account recovery
    router: true,                       // Leave this set to true for the API demo
  },
  baseUrl: 'https://okta2.crownight.com/',
  clientId: '0oa2bh971p1BaaIdW2p7',
  redirectUri: 'https://okta2.crownight.com/',
  authParams: {
    issuer: 'https://okta2.crownight.com/oauth2/ausnutex0bprrXYDH2p6',
    responseType: ['id_token', 'token'],
    scopes: ['openid', 'email', 'profile'],
  },
};
signInWidget = new OktaSignIn(signInWidgetConfig);
function widgetSuccessCallback(res) {
  var key = '';
  if (res[0]) {
    key = Object.keys(res[0])[0];
    signInWidget.tokenManager.add(key, res[0]);
  }
  if (res[1]) {
    key = Object.keys(res[1])[0];
    signInWidget.tokenManager.add(key, res[1]);
  }
  if (res.status === 'SUCCESS') {
    var token = signInWidget.tokenManager.get(key);
    console.log("Logged in to Okta and issued token:");
    console.log(token);
    console.log("Reload this page to start over.");
    alert("Logged in! Check your developer console for details");
  }
}
function widgetErrorCallback (err) {
}
</script>
signInWidget.renderEl({el: '#widget-container'}, widgetSuccessCallback, widgetErrorCallback);
<div id="widget-container"></div>

<script>
  var orgUrl = 'https://okta2.crownight.com';
  var signIn = new OktaSignIn({baseUrl: 'https://okta2.crownight.com'});
  var str = decodeURIComponent(window.location.href);
  var redirectUrl = str.substr(str.indexOf("?fromURI=") + 9);
  signIn.renderEl({
    el: '#widget-container'
  }, function success(res) {
    if (res.status === 'SUCCESS') {
      console.log('You might be already logged in', res.session.token)
      else { console.log('Relog, man!', res.session.token);


    // The user can be in another authentication state that requires further action.
    // For more information about these states, see:
    //   https://github.com/okta/okta-signin-widget#rendereloptions-success-error
    }
  });
</script>
</script>
<div id="widget-container"></div>
